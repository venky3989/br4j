<!--

      Licensed to the Apache Software Foundation (ASF) under one or more
      contributor license agreements.  See the NOTICE file distributed with
      this work for additional information regarding copyright ownership.
      The ASF licenses this file to you under the Apache License, Version 2.0
      (the "License"); you may not use this file except in compliance with
      the License.  You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.

-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>БДМИ/СУСС - Шаблоны</title>
</head>
<body>
<h1>Шаблоны</h1>

<p><a href="templates.html">Портлеты</a>
Шаблоны
<a href="tags.html">Теги</a>
</p>

<hr>
<a name="SiteArea"></a>
<h2>Раздел сайта</h2>

<p>Содержит характеристики, определяющие раздел сайта. Разделы сайта могут образовывать
одну или несколько иерархий, и отображаться в соответствии с ними портлетом
<a href="portlets.html#NavigationPortlet">"Навигация"</a>. К разделу сайта могут
привязываться материалы (документы, специально предназначенные для публикации
на сайте). Также раздел задает представления для отображения документов.</p>
<p>В шаблон можно добавлять собственные характеристики для использования в тегах
системы управления содержимым сайта.</p>

<h3>Характеристики</h3>
<dt>Название</dt>
<dd>Обычно содержит название раздела сайта, отображаемое пользователям.</dd>
<dt>Родительский раздел</dt>
<dd>Ссылка на карточку родительского раздела сайта.</dd>
<dt>Страница портала</dt>
<dd>Строка, содержащая путь к странице портала, используемой по умолчанию для отображения
данного раздела. Страница должна быть создана средствами администрирования портала.</dd>
<dt>Содержимое по умолчанию</dt>
<dd>Ссылка на карточку документа, являющегося материалом по умолчанию в данном разделе.
<br><i>Дополнение Босс-Референт.</i> Также может содержать ссылку на другой раздел сайта.
В этом случае при запросе данного раздела сайта производится перенаправление на указанный
раздел. При этом, если в указанном разделе в качестве содержимого по умолчанию также указан
раздел сайта, перенаправление повторяется. Будьте осторожны &mdash; существует опасность
зацикливания!</dd>
<a name="SiteArea-Templates"></a>
<dt>Представления</dt>
<dd>Список карточек по шаблону <a href="#View">"Представление материала"</a>. Используется
портлетом <a href="portlets.html#ContentViewPortlet">"Просмотр материала"</a> для определения
карточки, используемой для отображения документа.</dd>
<dt>Порядковый номер</dt>
<dd>Число, используемое для упорядочения разделов сайта на одном уровне иерархии.
Числа не обязаны быть последовательными.</dd>
<p><i>Дополнения Босс-Референт</i></p>
<dt>XML для выборки документов</dt>
<dd>Содержит XML поиска документов. Это поле используется системой управления содержимым сайта
непосредственно, только если характеристика "Выбирать документ по умолчанию" (ниже) установлена
в значение "Материал по поиску". Может также использоваться тегами для формирования списка
материалов в разделе.</dd>
<dt>Выбирать документ по умолчанию</dt>
<dd>При запросе раздела сайта без указания документа позволяет выбрать в качестве текущего документа
один из связанных с данным разделом:<ul>
<li><i>Не выбирать</i> &mdash; не устанавливает текущий документ;</li>
<li><i>Связанный материал</i> &mdash; выбирает первый из материалов, ссылающихся на данный раздел;</li>
<li><i>Материал по поиску</i> &mdash; выбирает первый из документов, найденных поиском, заданным
в характеристике "XML для выборки документов".</li>
</ul>

<hr>
<a name="View"></a>
<h2>Представление материала</h2>

<p>Используется для отображения на сайте документов (карточек) из системы.</p>
<p>См. описание портлета <a href="portlets.html#ContentViewPortlet">"Просмотр материала"</a>.</p>

<h3>Характеристики</h3>
<dt>Тип материала</dt>
<dd>Название шаблона документов, которые могут отображаться данной карточкой представления.
Одно представление может использоваться только для карточек одного типа (шаблона).
<br>В качестве названия шаблона может быть задано как русское, так и английское название.</dd>
<dt>Представление материала</dt>
<dd>HTML-текст, отображаемый на сайте. Может содержать <a href="tags.html">специальные теги</a>
системы управления содержимым сайта для отображения данных из карточек системы.
Если в теге не указан явно идентификатор карточки, используется карточка выбранного документа.</dd>

<hr>
<a name="Navigator"></a>
<h2>Навигация по сайту</h2>

<p>Содержит необходимые настройки для отображения различных типов навигаторов.
Используется портлетом <a href="portlets.html#NavigationPortlet">"Навигация"</a>.</p>
<p>Во всех характеристиках, содержащих HTML текст, могут присутствовать теги управления содержимым
сайта. При этом теги в характеристиках, соответствующих конкретному разделу сайта, получают
по умолчанию карточку данного раздела сайта, а в остальных характеристиках &mdash; карточку навигатора.</p>

<h3>Характеристики</h3>
<dt>Начальный раздел сайта</dt>
<dd>Указывает способ определения раздела сайта, от которого начинается построение иерархии для
данного навигатора:<ul>
<li><i>Текущая</i> &mdash; используется текущий раздел сайта;</li>
<li><i>Корневая</i> &mdash; используется раздел сайта, самый верхний в иерархии от текущего;</li>
<li><i>Указанная</i> &mdash; используются разделы сайта, указанные в характеристике
"Указанный раздел сайта" (ниже).</li>
</ul>
<dt>Указанный раздел сайта</dt>
<dd>Список разделов сайтов, используемых в качестве начальных для построения иерархии.
Используется только при установке характеристики "Начальный раздел сайта" в значение "Указанная".</dd>
<dt>Число показываемых уровней вверх</dt>
<dd>Количество уровней родительских разделов сайта относительно начального, отображаемых в навигаторе.</dd>
<dt>Число раскрываемых уровней вверх</dt>
<dd><i>Дополнение Босс-Референт.</i> Количество уровней родительских разделов сайта относительно
начального, отображаемых в навигаторе вместе с их дочерними.</dd>
<dt>Число показываемых уровней вниз</dt>
<dd>Количество уровней дочерних разделов сайта относительно начального, отображаемых в навигаторе.</dd>
<dt>Отображение текущего раздела</dt>
<dd>Что делать, если текущий раздел сайта не попал в отображаемые уровни иерархии:<ul>
<li><i>Не показывать</i> &mdash; игнорировать;</li>
<li><i>Только текущая</i> &mdash; показать в иерархии текущий раздел и все его родительские, не попавшие
в отображаемые;</li>
<li><i>Текущая и ее потомки</i> &mdash; то же, что предыдущее, плюс дочерние разделы текущего.</li>
</ul>
<dt>Начало списка</dt>
<dd>HTML текст, отображаемый в начале навигатора.</dd>
<dt>Элемент списка</dt>
<dd>HTML текст, отображаемый для каждого раздела сайта.</dd>
<dt>Выбранный элемент списка</dt>
<dd>HTML текст, отображаемый для текущего раздела сайта.</dd>
<dt>Разделитель элементов</dt>
<dd>HTML текст, отображаемый между двумя разными разделами сайта.</dd>
<dt>Окончание списка</dt>
<dd>HTML текст, отображаемый в конце навигатора.</dd>
<dt>Пустой список</dt>
<dd><i>Не используется</i></dd>
<p><i>Дополнения Босс-Референт</i></p>
<dt>Открытый раздел</dt>
<dd>HTML текст, отображаемый для разделов, являющихся предками текущего раздела сайта. Если эта
характеристика не заполнена, она игнорируется.</dd>
<dt>Начало уровня</dt>
<dd>HTML текст, отображаемый перед первым дочерним разделом какого-либо раздела сайта.</dd>
<dt>Конец уровня</dt>
<dd>HTML текст, отображаемый после последнего дочернего раздела какого-либо раздела сайта.</dd>

<hr>
<a name="List"></a>
<h2>Список материалов</h2>

<p>Используется для отображения списков документов. Обычно на карточки, созданные по шаблону
"Список материалов" ссылается атрибут <i>view</i> тега типа <a href="tags.html#list">list</a>.</p>
<p>Все характеристики, содержащие HTML текст, могут также включать теги управления содержимым сайта.
При этом теги в характеристиках, отображающих конкретный элемент списка, работают по умолчанию
с карточкой документа, соответствующего элементу списка, а в остальных &mdash; с карточкой списка.</p>

<h3>Характеристики</h3>
<dt>Начало списка</dt>
<dd>HTML текст, отображаемый перед первым элементом списка, если список не пустой.</dd>
<dt>Элемент списка</dt>
<dd>HTML текст, отображаемый для каждого документа из списка.</dd>
<dt>Выбранный элемент списка</dt>
<dd>HTML текст, отображаемый для текущего документа сайта, если он выбран и присутствует в списке.</dd>
<dt>Разделитель элементов</dt>
<dd>HTML текст, отображаемый между элементами списка.</dd>
<dt>Окончание списка</dt>
<dd>HTML текст, отображаемый после последнего элемента списка, если список не пустой.</dd>
<dt>Пустой список</dt>
<dd>HTML текст, отображаемый в случае, если список не содержит элементов.</dd>
<dt>Количество элементов на странице</dt>
<dd>Количество элементов списка, отображаемых на одной странице. Если число равно нулю, разбиение
на страницы не производится. Навигация по страницам может осуществляться с помощью тега типа
<a href="tags.html#pages">pages</a>.</dd>

<hr>
<a name="Pager"></a>
<h2>Навигация по страницам</h2>

<p>Используется тегом <a href="tags.html#pages">pages</a> для организации навигации по страницам
в списках документов. Позволяет строить навигаторы вида:
<br><code>&lt;&lt;  &lt;  1  2  ...  8  9  10  ...  25  26  &gt;  &gt;&gt;</code>
<br>В приведенном примере общее число страниц в списке &mdash; 26, а текущая страница &mdash; 9-я.</p>
<p>Во всех характеристиках, содержащих HTML текст, могут присутствовать теги управления содержимым
сайта. Все они по умолчанию получают карточку навигации по страницам.</p>

<h3>Характеристики</h3>
<dt>Количество страниц в начале</dt>
<dd>Определяет количество страниц, отображаемых в начале навигатора, начиная с 1-й.</dd>
<dt>Количество страниц в конце</dt>
<dd>Определяет количество страниц, отображаемых в конце навигартора, заканчивая последней.</dd>
<dt>Количество страниц вокруг текущей</dt>
<dd>Определяет количество страниц, отображаемых в середине навигатора до и после текущей.</dd>
<dt>Отображение одной страницы</dt>
<dd>HTML текст, отображаемый для каждой присуствующей в навигаторе страницы. Обычно здесь формируется
ссылка на страницу в виде ее номера, например:
<br><code>&lt;content type="page"/&gt;</code></dd>
<dt>HTML текст, отображаемый для текущей страницы. Если характеристика не заполнена, то для отображения
текущей страницы используется предыдущая характеристика.</dt>
<dt>Разделитель страниц</dt>
<dd>HTML текст, отображаемый между страницами.</dd>
<dt>Пропуск нескольких страниц</dt>
<dd>HTML текст, отображаемый на месте пропущенных страниц (в примере &mdash; многоточие).</dd>
<dt>Начало списка страниц</dt>
<dd>HTML текст, отображаемый в начале навигатора.</dd>
<dt>Текст перед первой страницей</dt>
<dd>HTML текст, отображаемый перед первой страницей, если она не текущая. Здесь, например, могут
задаваться ссылки на первую и предыдущую страницы, чтобы они не отображались в случае, когда
выбрана первая страница.</dd>
<dt>Окончание списка страниц</dt>
<dd>HTML текст, отображаемый в конце навигатора.</dd>
<dt>Текст после последней страницы</dt>
<dd>HTML текст, отображаемый после последней страницы, если она не текущая. Здесь, например, могут
задаваться ссылки на следующую и последнюю страницы, чтобы они не отображались в случае, когда
выбрана последняя страница.</dd>

<hr>
<p><a href="templates.html">Портлеты</a>
Шаблоны
<a href="tags.html">Теги</a>
</p>
</body>
</html>